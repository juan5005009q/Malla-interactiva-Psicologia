<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular Psicología - Ibero</title>
  <style>
    body {
      background: #ffe6f0;
      font-family: 'Comic Sans MS', cursive, sans-serif;
      color: #880e4f;
      margin: 0;
      padding: 20px;
    }

    h1 {
      text-align: center;
      font-size: 2em;
      margin-bottom: 30px;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 20px;
    }

    .semester {
      background: #ffc1e3;
      border-radius: 10px;
      padding: 10px;
    }

    .semester h2 {
      text-align: center;
      font-size: 1.2em;
      border-bottom: 2px dashed #880e4f;
    }

    .subject {
      background: #fff0f7;
      margin: 8px 0;
      padding: 8px;
      border-radius: 6px;
      cursor: pointer;
      border: 2px solid #880e4f;
      transition: background 0.3s;
    }

    .subject.completed {
      background: #f8bbd0;
      text-decoration: line-through;
    }

    .subject.locked {
      background: #fce4ec;
      cursor: not-allowed;
      opacity: 0.6;
      position: relative;
    }

    .subject.locked:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 100%;
      top: 0;
      background: #880e4f;
      color: white;
      padding: 5px;
      border-radius: 5px;
      white-space: nowrap;
      margin-left: 10px;
      font-size: 0.8em;
      z-index: 10;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Psicología - IBERO</h1>
  <div class="grid" id="malla"></div>

  <script>
    const subjects = [
      { name: 'Cátedra 1', semester: 1 },
      { name: 'Competencias comunicativas', semester: 1 },
      { name: 'Epistemologia', semester: 1 },
      { name: 'Maternáticas Básicas', semester: 1 },
      { name: 'Competencias digitales', semester: 1 },
      { name: 'Historiografia de la Psicologia', semester: 1 },

      { name: 'Argumentación y Producción de textos', semester: 2 },
      { name: 'Antropologia Social y Cultural', semester: 2 },
      { name: 'Estadistica Descriptiva', semester: 2, requires: ['Maternáticas Básicas'] },
      { name: 'inglés', semester: 2 },
      { name: 'Neurociencia Social', semester: 2 },
      { name: 'Procesos Psicológicos', semester: 2 },

      { name: 'Bioética', semester: 3 },
      { name: 'Ingles 2', semester: 3, requires: ['inglés'] },
      { name: 'Divergencias Sociales Globales y Latinoamericanas', semester: 3 },
      { name: 'Electiva Profesional', semester: 3 },
      { name: 'Fundamentos de Programación', semester: 3 },
      { name: 'Neurociencia Cognitive Aplicada', semester: 3, requires: ['Neurociencia Social'] },
      { name: 'Programas de Investigación en Psicologia', semester: 3 },

      { name: 'Ingles III', semester: 4, requires: ['Ingles 2'] },
      { name: 'Pensamiento Politico y Económico', semester: 4 },
      { name: 'Finanzas', semester: 4 },
      { name: 'Competencias Investigativas', semester: 4 },
      { name: 'Gestión Digital e Innovación', semester: 4 },
      { name: 'Programas de Investigación en Psicologia il', semester: 4, requires: ['Programas de Investigación en Psicologia'] },
      { name: 'Psicometria', semester: 4 },

      { name: 'Cátedra II', semester: 5 },
      { name: 'Psicologia y Sociedad', semester: 5 },
      { name: 'Inglés IV', semester: 5, requires: ['Ingles III'] },
      { name: 'Diseños Investigativos en Psicologia', semester: 5 },
      { name: 'Teorias de Aprendizaje Asociativo', semester: 5 },
      { name: 'Psicologia del Desarrollo', semester: 5 },

      { name: 'inglés V', semester: 6, requires: ['Inglés IV'] },
      { name: 'Investigación Social', semester: 6 },
      { name: 'Teorias de Personalidad', semester: 6 },
      { name: 'Psicologia Juridica', semester: 6 },
      { name: 'Evaluación Psicológica', semester: 6 },
      { name: 'Psicopatologia', semester: 6 },

      { name: 'Elective Integral', semester: 7 },
      { name: 'Inglés VI', semester: 7, requires: ['inglés V'] },
      { name: 'Dirección y Gestión de Proyectos 2', semester: 7 },
      { name: 'Sociales', semester: 7 },
      { name: 'Diseños y Métodos Investigativos 2', semester: 7 },
      { name: 'en Psicologia II', semester: 7 },
      { name: 'del Trabajo', semester: 7 },
      { name: 'Psicologia Clinica y de la Salud', semester: 7 },
      { name: 'Psicologia Organizacional', semester: 7 },

      { name: 'Cátedra III', semester: 8 },
      { name: 'Procesos investigativos', semester: 8 },
      { name: 'Profundización Psicologia Clinicay de la Salud', semester: 8 },
      { name: 'Psicologia Educativa, Desarrollo Humano y Ciclo de Vida', semester: 8 },
      { name: 'Psicologia Social, Ambiental y Comunitaria', semester: 8 },

      { name: 'Electiva Profesional II', semester: 9 },
      { name: 'Otras Aproximaciones Teóricas del Aprendizaje', semester: 9 },
      { name: 'Práctica Psicologia Clinica y de la Salud', semester: 9 },
      { name: 'Profundización en Otros Contextos', semester: 9 },

      { name: 'Opción de Grado', semester: 10 },
      { name: 'Práctica Otros Contextos', semester: 10 },
    ];

    const malla = document.getElementById('malla');
    const state = JSON.parse(localStorage.getItem('aprobadas') || '{}');

    const checkDependencies = (subject) =>
      !subject.requires || subject.requires.every(req => state[req]);

    function render() {
      malla.innerHTML = '';

      for (let sem = 1; sem <= 10; sem++) {
        const column = document.createElement('div');
        column.className = 'semester';
        const header = document.createElement('h2');
        header.textContent = `${sem}º semestre`;
        column.appendChild(header);

        subjects.filter(s => s.semester === sem).forEach(subject => {
          const el = document.createElement('div');
          el.textContent = subject.name;
          el.className = 'subject';

          const fulfilled = checkDependencies(subject);
          if (!fulfilled) {
            el.classList.add('locked');
            el.setAttribute('data-tooltip', 'Requiere: ' + subject.requires.join(', '));
          } else {
            el.addEventListener('click', () => {
              state[subject.name] = !state[subject.name];
              localStorage.setItem('aprobadas', JSON.stringify(state));
              render();
            });
          }

          if (state[subject.name]) el.classList.add('completed');
          column.appendChild(el);
        });

        malla.appendChild(column);
      }
    }

    render();
  </script>
</body>
</html>
